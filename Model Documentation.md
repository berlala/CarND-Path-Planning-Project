# Path-Planning-Project Write Up
bolin zhao (bolinzhao@yahoo.com)

## Overview
To generate a smooth trajectories
- add spline.h

To determine whether change lane and the target vehicle
- add BehaviorPlanner in behavior_hpp/cpp

Update the traget vehicle and trajectories
- modify in main.cpp

### Behavior Planner
#### Current lane
Utlizie the d value in Fernet coordinate to judge currently the car in which lane.
#### Closest vehicle
To give the current vehicle information in Frenet coordinate and lane, get the closet vehicle's distance and velocity in this lane.
#### Lane Score
Based on the Sensor fusion data to get a score over three lanes. The score takes the distance and velocity information into account and the higher the score is, the better choice for that lane.
#### Lane planner
The lane planner give back a gain on d value to tell the car whether change lane or not.

### Main
In the main function, the main task is to update the control points [ptsx] for spline line.
The [ptsx] consist of 3 parts:
1) the previous car location;
2) the current car location;
3) The three control points statred from current car location with 50, 100 and 150 meters distance.

The new trajectories [s] will be generated by the upper control points. And the control tragect point is 30 meter ahead on the new trajectories from current location.

The overall path which send to the simulator is [next_x/y_vals] which consist of the old path [previous_path_x/y] and the sample from generated [s] with time window 0.02s.

The flow can be shown in the following figure.  
![Overall Path](https://github.com/berlala/CarND-Path-Planning-Project/blob/master/path_gene.jpg)
